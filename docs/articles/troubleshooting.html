<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Troubleshooting • monarchr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Troubleshooting">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">monarchr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/disease_to_model_organism.html">disease_to_model_organism</a>
    </li>
    <li>
      <a href="../articles/monarchr-simple-ex.html">Simple Example</a>
    </li>
    <li>
      <a href="../articles/proposal.html">`monarchr` - An R package for Monarch</a>
    </li>
    <li>
      <a href="../articles/troubleshooting.html">Troubleshooting</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/charlieccarey/monarchr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Troubleshooting</h1>
                        <h4 class="author">charles carey</h4>
            
            <h4 class="date">02 May, 2018</h4>
      
      <small>Source: <a href="https://github.com/charlieccarey/monarchr/blob/master/vignettes/troubleshooting.Rmd"><code>vignettes/troubleshooting.Rmd</code></a></small>
      <p class="hidden name"><code>troubleshooting.Rmd</code></p>

    </div>

    
    
<div id="troubleshooting-" class="section level2">
<h2 class="hasAnchor">
<a href="#troubleshooting-" class="anchor"></a>Troubleshooting.</h2>
<p>If we encounter problems, such as an empty result, we can always ask for Monarch’s response to our query.</p>
<div id="response-from-monarch-initiative-" class="section level3">
<h3 class="hasAnchor">
<a href="#response-from-monarch-initiative-" class="anchor"></a>Response from Monarch Initiative.</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(monarchr)
gene &lt;-<span class="st"> "NCBIGene:8314"</span>
results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/bioentity_homologs.html">bioentity_homologs</a></span>(gene)</code></pre></div>
<p>We returned the response as a monarch_api (S3) class with its own print method</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(results<span class="op">$</span>response)</code></pre></div>
<pre><code>## [1] "monarch_api"</code></pre>
<p>The print method only shows the URL and highest 2 levels of the contents.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results<span class="op">$</span>response</code></pre></div>
<pre><code>## &lt;monarch https://api.monarchinitiative.org/api/bioentity/gene/NCBIGene%3A8314/homologs/?rows=100&amp;fetch_objects=true&amp;format=json&gt;
## &lt;Showing parsed R objects from json response. 2 level(s) deep&gt;
## List of 7
##  $ compact_associations: NULL
##  $ associations        :'data.frame':    17 obs. of  14 variables:
##   ..$ provided_by       :List of 17
##   ..$ relation          :'data.frame':   17 obs. of  2 variables:
##   ..$ object_extensions : logi [1:17] NA NA NA NA NA NA ...
##   ..$ publications      :List of 17
##   ..$ object            :'data.frame':   17 obs. of  3 variables:
##   ..$ negated           : logi [1:17] FALSE FALSE FALSE FALSE FALSE FALSE ...
##   ..$ slim              : logi [1:17] NA NA NA NA NA NA ...
##   ..$ subject_extensions: logi [1:17] NA NA NA NA NA NA ...
##   ..$ type              : logi [1:17] NA NA NA NA NA NA ...
##   ..$ qualifiers        : logi [1:17] NA NA NA NA NA NA ...
##   ..$ evidence_graph    :'data.frame':   17 obs. of  2 variables:
##   ..$ evidence_types    : logi [1:17] NA NA NA NA NA NA ...
##   ..$ id                : chr [1:17] "beb2860f-b6ab-472e-8c77-eb8ff2a5da99" "47931d07-86d6-40a2-82d8-d7919a0e8ad5" "5eea0259-b923-49f5-a344-86820defa027" "bfe3507a-f8bf-4a7d-949b-ab3e63dd8e95" ...
##   ..$ subject           :'data.frame':   17 obs. of  3 variables:
##  $ objects             : chr [1:17] "FlyBase:FBgn0262166" "HGNC:12513" "HGNC:12515" "HGNC:19678" ...
##  $ highlighting        : NULL
##  $ numFound            : NULL
##  $ facet_counts        :List of 2
##   ..$ subject_taxon_label:List of 1
##   ..$ object_closure     :List of 25
##  $ docs                : NULL</code></pre>
<p>To view at an alternative depth, supply the <em>depth</em> setting to the print method.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># print(results$response, depth=3) # not run.</span></code></pre></div>
<div id="troubleshooting-the-server-status" class="section level4">
<h4 class="hasAnchor">
<a href="#troubleshooting-the-server-status" class="anchor"></a>Troubleshooting the server status</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(results<span class="op">$</span>response<span class="op">$</span>response) <span class="co"># this is the response we saved from the call to httr GET(url)</span></code></pre></div>
<pre><code>## [1] "response"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results<span class="op">$</span>response<span class="op">$</span>url</code></pre></div>
<pre><code>## [1] "https://api.monarchinitiative.org/api/bioentity/gene/NCBIGene%3A8314/homologs/?rows=100&amp;fetch_objects=true&amp;format=json"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results<span class="op">$</span>response<span class="op">$</span>response<span class="op">$</span>status_code</code></pre></div>
<pre><code>## [1] 200</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#str(results$response$response)</span>
<span class="co">#results$response$response$headers</span>
<span class="co">#results$response$response$request</span></code></pre></div>
<p>The server should have responded with an OK (200) status. If not, we can confirm the URL ourselves by pasting into a browser, or look at the response and response headers for more info (courtesy of httr).</p>
</div>
</div>
<div id="viewing-json-directly-from-the-server-" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-json-directly-from-the-server-" class="anchor"></a>Viewing JSON directly from the server.</h3>
<p>We can use the URL at the top of monarchr’s summary of the response to see the JSON results directly from the server.</p>
<p>(this is easier to view in Firefox):</p>
<p>[<a href="https://api.monarchinitiative.org/api/bioentity/gene/NCBIGene%3A8314/homologs/?rows=100&amp;fetch_objects=true&amp;format=json">https://api.monarchinitiative.org/api/bioentity/gene/NCBIGene%3A8314/homologs/?rows=100&amp;fetch_objects=true&amp;format=json</a>]</p>
</div>
<div id="viewing-html-on-server-" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-html-on-server-" class="anchor"></a>Viewing HTML on server.</h3>
<p>If you prefer to see the expected results as HTML, note how the example of looking up NCBIGene:8314 on Monarch Initiative website ended up at a table for Monarch’s preferred ID (HGNC:950).</p>
<p>[<a href="https://monarchinitiative.org/gene/HGNC:950#homologs" class="uri">https://monarchinitiative.org/gene/HGNC:950#homologs</a>]</p>
<p>Replacing HGNC:950 with NCBIGene ID, we are successfully directed to the same view.</p>
<p>[<a href="https://monarchinitiative.org/gene/NCBIGene:8314#homologs" class="uri">https://monarchinitiative.org/gene/NCBIGene:8314#homologs</a>]</p>
</div>
</div>
<div id="verifying-your-search-returns-something-consistent-with-searching-monarch-initiatives-website-directly-" class="section level2">
<h2 class="hasAnchor">
<a href="#verifying-your-search-returns-something-consistent-with-searching-monarch-initiatives-website-directly-" class="anchor"></a>Verifying your search returns something consistent with searching Monarch Initiative’s website directly.</h2>
<ol style="list-style-type: decimal">
<li>Go to Monarch’s front page: [<a href="https://monarchinitiative.org/" class="uri">https://monarchinitiative.org/</a>]</li>
<li>In the search box, enter and search for: NCBIGene:8314.</li>
<li>Select the exact match (of thousands) from Homo sapiens. (This is the first match and shows the gene name is BAP1.)</li>
<li>Select homologs from the tabs at the top of the next page.</li>
</ol>
<p>You should see something similar to the following view.</p>
<div class="figure">
<img src="../images/BAP1_homologs.png" alt="Homologs as seen on Monarch Inititiative Website."><p class="caption">Homologs as seen on Monarch Inititiative Website.</p>
</div>
<p>In this case, the results shoud be consistent with what we see below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results<span class="op">$</span>homologs</code></pre></div>
<pre><code>## # A tibble: 17 x 10
##    subject.taxon subject.id subject relation object object.id object.taxon
##  * &lt;chr&gt;         &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;       
##  1 Homo sapiens  HGNC:950   BAP1    in para… UCHL5  HGNC:196… Homo sapiens
##  2 Homo sapiens  HGNC:950   BAP1    in para… UCHL3  HGNC:125… Homo sapiens
##  3 Homo sapiens  HGNC:950   BAP1    in 1 to… BAP1   NCBIGene… Equus cabal…
##  4 Homo sapiens  HGNC:950   BAP1    in 1 to… Bap1   RGD:1311… Rattus norv…
##  5 Homo sapiens  HGNC:950   BAP1    in orth… UCH2   NCBIGene… Arabidopsis…
##  6 Homo sapiens  HGNC:950   BAP1    in 1 to… Bap1   MGI:1206… Mus musculus
##  7 Homo sapiens  HGNC:950   BAP1    in 1 to… BAP1   NCBIGene… Bos taurus  
##  8 Homo sapiens  HGNC:950   BAP1    in para… UCHL1  HGNC:125… Homo sapiens
##  9 Homo sapiens  HGNC:950   BAP1    in 1 to… bap1   Xenbase:… Xenopus (Si…
## 10 Homo sapiens  HGNC:950   BAP1    in 1 to… BAP1   NCBIGene… Pan troglod…
## 11 Homo sapiens  HGNC:950   BAP1    in 1 to… BAP1   NCBIGene… Monodelphis…
## 12 Homo sapiens  HGNC:950   BAP1    in 1 to… BAP1   NCBIGene… Sus scrofa  
## 13 Homo sapiens  HGNC:950   BAP1    in 1 to… BAP1   NCBIGene… Macaca mula…
## 14 Homo sapiens  HGNC:950   BAP1    in orth… UCH1   NCBIGene… Arabidopsis…
## 15 Homo sapiens  HGNC:950   BAP1    in 1 to… bap1   NCBIGene… Anolis caro…
## 16 Homo sapiens  HGNC:950   BAP1    in orth… bap1   ZFIN:ZDB… Danio rerio 
## 17 Homo sapiens  HGNC:950   BAP1    in 1 to… calyp… FlyBase:… Drosophila …
## # ... with 3 more variables: evidence &lt;fct&gt;, publications &lt;fct&gt;,
## #   provided_by &lt;fct&gt;</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#troubleshooting-">Troubleshooting.</a></li>
      <li><a href="#verifying-your-search-returns-something-consistent-with-searching-monarch-initiatives-website-directly-">Verifying your search returns something consistent with searching Monarch Initiative’s website directly.</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Charles C Carey, Ted Laderas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
